{"version":3,"sources":["webpack:///./src/views/news.vue?80d1","webpack:///src/views/news.vue","webpack:///./src/views/news.vue?4f38","webpack:///./src/views/news.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/news.vue?ece9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","-webkit-overflow-scrolling","scrollMode","ref","attrs","top-method","loadTop","bottom-all-loaded","allLoaded","_l","item","key","newId","to","path","query","_v","_s","title","_f","time","comments","src","image","staticRenderFns","newsvue_type_script_lang_js_","name","data","news","created","requestNews","methods","_this","$axios","get","then","res","code","Object","toConsumableArray","concat","$nextTick","$refs","loadmore","onTopLoaded","views_newsvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_arrayWithoutHoles","arr","Array","isArray","i","arr2","length","_iterableToArray","iter","Symbol","iterator","prototype","toString","call","from","_nonIterableSpread","TypeError","_toConsumableArray","__webpack_require__","d","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_news_vue_vue_type_style_index_0_id_0cb636e1_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_news_vue_vue_type_style_index_0_id_0cb636e1_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"6GAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAAC,MAAA,CAAgCC,6BAAAR,EAAAS,aAA+C,CAAAL,EAAA,eAAoBM,IAAA,WAAAC,MAAA,CAAsBC,aAAAZ,EAAAa,QAAAC,oBAAAd,EAAAe,YAA4D,CAAAX,EAAA,KAAAJ,EAAAgB,GAAAhB,EAAA,cAAAiB,GAA2C,OAAAb,EAAA,MAAgBc,IAAAD,EAAAE,OAAe,CAAAf,EAAA,eAAoBE,YAAA,YAAAK,MAAA,CAA+BS,GAAA,CAAMC,KAAA,gBAAAC,MAAA,CAA4BH,MAAAF,EAAAE,UAAoB,CAAAf,EAAA,OAAYE,YAAA,QAAmB,CAAAF,EAAA,MAAAJ,EAAAuB,GAAAvB,EAAAwB,GAAAP,EAAAQ,UAAArB,EAAA,OAAkDE,YAAA,QAAmB,CAAAF,EAAA,KAAAJ,EAAAuB,GAAAvB,EAAAwB,GAAAxB,EAAA0B,GAAA,eAAA1B,CAAAiB,EAAAU,UAAAvB,EAAA,KAAAJ,EAAAuB,GAAAvB,EAAAwB,GAAAP,EAAAW,UAAA,WAAAxB,EAAA,OAAwHE,YAAA,SAAoB,CAAAF,EAAA,OAAYO,MAAA,CAAOkB,IAAAZ,EAAAa,cAAkB,SAAU,IACjvBC,EAAA,eCuBAC,iCAAA,CACAC,KAAA,OACAC,KAFA,WAGA,OACAC,KAAA,GACA1B,WAAA,OACAM,WAAA,IAGAqB,QATA,WAUAnC,KAAAoC,eAEAC,QAAA,CACAD,YADA,WACA,IAAAE,EAAAtC,KACAA,KAAAuC,OAAAC,IAAA,SAAAC,KAAA,SAAAC,GAEA,IAAAA,EAAAT,KAAAU,KAEAL,EAAAxB,WAAA,EAEAwB,EAAAJ,KAAAU,OAAAC,EAAA,KAAAD,CAAAF,EAAAT,KAAAC,MAAAY,OAAAF,OAAAC,EAAA,KAAAD,CAAAN,EAAAJ,OAEAI,EAAAS,UAAA,WACAT,EAAA9B,WAAA,aAIAI,QAfA,WAgBAZ,KAAAoC,cACApC,KAAAgD,MAAAC,SAAAC,kBCrD8UC,EAAA,0BCQ9UC,EAAgBR,OAAAS,EAAA,KAAAT,CACdO,EACArD,EACAgC,GACF,EACA,KACA,WACA,MAIAsB,EAAAE,QAAAC,OAAA,WACeC,EAAA,WAAAJ,6CCpBA,SAAAK,EAAAC,GACf,GAAAC,MAAAC,QAAAF,GAAA,CACA,QAAAG,EAAA,EAAAC,EAAA,IAAAH,MAAAD,EAAAK,QAAiDF,EAAAH,EAAAK,OAAgBF,IACjEC,EAAAD,GAAAH,EAAAG,GAGA,OAAAC,GCNe,SAAAE,EAAAC,GACf,GAAAC,OAAAC,YAAAvB,OAAAqB,IAAA,uBAAArB,OAAAwB,UAAAC,SAAAC,KAAAL,GAAA,OAAAN,MAAAY,KAAAN,GCDe,SAAAO,IACf,UAAAC,UAAA,mDCEe,SAAAC,EAAAhB,GACf,OAASD,EAAiBC,IAASM,EAAeN,IAASc,IAJ3DG,EAAAC,EAAApB,EAAA,sBAAAkB,gECAA,IAAAG,EAAAF,EAAA,QAAAG,EAAAH,EAAAI,EAAAF,GAAkiBC,EAAG","file":"js/news.74e67a2a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"news-wrap\",style:({'-webkit-overflow-scrolling': _vm.scrollMode})},[_c('mt-loadmore',{ref:\"loadmore\",attrs:{\"top-method\":_vm.loadTop,\"bottom-all-loaded\":_vm.allLoaded}},[_c('ul',_vm._l((_vm.news),function(item){return _c('li',{key:item.newId},[_c('router-link',{staticClass:\"toNewInfo\",attrs:{\"to\":{path:'/news/newinfo',query:{newId:item.newId}}}},[_c('div',{staticClass:\"left\"},[_c('h3',[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"info\"},[_c('p',[_vm._v(_vm._s(_vm._f(\"relativeTime\")(item.time)))]),_c('p',[_vm._v(_vm._s(item.comments)+\"评\")])])]),_c('div',{staticClass:\"right\"},[_c('img',{attrs:{\"src\":item.image}})])])],1)}))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"news-wrap\" :style=\"{'-webkit-overflow-scrolling': scrollMode}\">\r\n    <mt-loadmore :top-method=\"loadTop\" :bottom-all-loaded=\"allLoaded\" ref=\"loadmore\">\r\n      <ul>\r\n        <li v-for=\"item in news\" :key=\"item.newId\">\r\n          <router-link :to=\"{path:'/news/newinfo',query:{newId:item.newId}}\" class=\"toNewInfo\">\r\n            <div class=\"left\">\r\n              <h3>{{item.title}}</h3>\r\n              <div class=\"info\">\r\n                <p>{{item.time|relativeTime}}</p>\r\n                <p>{{item.comments}}评</p>\r\n              </div>\r\n            </div>\r\n            <div class=\"right\">\r\n              <img :src=\"item.image\">\r\n            </div>\r\n          </router-link>\r\n        </li>\r\n      </ul>\r\n    </mt-loadmore>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"news\",\r\n  data() {\r\n    return {\r\n      news: [],\r\n      scrollMode: \"auto\", //移动端弹性滚动效果，touch为弹性滚动，auto是非弹性滚动\r\n      allLoaded: false //是否可以上拉属性，false可以上拉，true为禁止上拉，就是不让往上划加载数据了\r\n    };\r\n  },\r\n  created() {\r\n    this.requestNews();\r\n  },\r\n  methods: {\r\n    requestNews() {\r\n      this.$axios.get(\"/news\").then(res => {\r\n        //使用mock模拟的这个数据，每次重新的发送请求，获取的code不变？除非重新刷新页面\r\n        if (res.data.code === 1) {\r\n          //表示没有数据了，不能进行上拉了\r\n          this.allLoaded = true;\r\n        }else{\r\n          this.news = [...res.data.news,...this.news];\r\n        }\r\n        this.$nextTick(() => {\r\n          this.scrollMode = \"touch\";\r\n        });\r\n      });\r\n    },\r\n    loadTop() {\r\n      this.requestNews();\r\n      this.$refs.loadmore.onTopLoaded(); // 固定方法，查询完要调用一次，用于重新定位\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.one-px(@color) {\r\n  &::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    display: block;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 1px;\r\n    background-color: @color;\r\n    @media (-webkit-device-pixel-ratio: 2) {\r\n      transform: scaleY(0.5);\r\n    }\r\n    @media (-webkit-device-pixel-ratio: 3) {\r\n      transform: scaleY(0.333333333);\r\n    }\r\n  }\r\n}\r\n.news-wrap {\r\n  ul {\r\n    li {\r\n      .toNewInfo {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        height: 80px;\r\n        overflow: hidden;\r\n        padding: 5px 0;\r\n        position: relative;\r\n        .one-px(#ccc);\r\n        .left {\r\n          width: 60%;\r\n          h3 {\r\n            font-size: 16px;\r\n            color: black;\r\n            font-weight: 500;\r\n            height: 60px;\r\n            line-height: 30px;\r\n            text-align: left;\r\n          }\r\n          .info {\r\n            display: flex;\r\n            font-size: 12px;\r\n            color: gray;\r\n            height: 20px;\r\n            line-height: 20px;\r\n            justify-content: space-between;\r\n          }\r\n        }\r\n        .right {\r\n          width: 30%;\r\n          border-radius: 3px;\r\n          img {\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./news.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./news.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./news.vue?vue&type=template&id=0cb636e1&scoped=true&\"\nimport script from \"./news.vue?vue&type=script&lang=js&\"\nexport * from \"./news.vue?vue&type=script&lang=js&\"\nimport style0 from \"./news.vue?vue&type=style&index=0&id=0cb636e1&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cb636e1\",\n  null\n  \n)\n\ncomponent.options.__file = \"news.vue\"\nexport default component.exports","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./news.vue?vue&type=style&index=0&id=0cb636e1&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./news.vue?vue&type=style&index=0&id=0cb636e1&lang=less&scoped=true&\""],"sourceRoot":""}