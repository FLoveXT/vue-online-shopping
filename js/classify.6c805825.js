(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["classify"],{"643d":function(s,t,a){"use strict";a.r(t);var i=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"classify-wrap"},[a("div",{ref:"classifyTitle",staticClass:"classifyTitle"},[a("ul",{staticClass:"classifyList"},s._l(s.classifys,function(t,i){return a("li",{key:i,ref:"type",refInFor:!0,on:{click:function(a){s.classifyCon(t.classId,i)}}},[s._v(s._s(t.className))])}))]),a("mt-loadmore",{ref:"loadmore",attrs:{"top-method":s.loadTop,"bottom-all-loaded":s.allLoaded}},[a("div",{ref:"classifyCon",staticClass:"classifyCon"},s._l(s.products,function(t){return a("router-link",{key:t.proId,attrs:{to:{name:"prodetail",query:{proId:t.proId}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.proImg,expression:"item.proImg"}]}),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("h3",[s._v(s._s(t.title))])]),a("div",{staticClass:"sellInfo"},[a("p",{staticClass:"price"},[s._v("￥"+s._s(t.price))]),a("p",{staticClass:"sellNum"},[s._v(s._s(t.sellNum)+"人已经付款")])])])])}))])],1)},e=[],o=a("1fba"),c={name:"classify",data:function(){return{classifys:["1"],proId:"",products:[],allLoaded:!1}},created:function(){var s=this;this.$axios.get("/classify").then(function(t){s.classifys=t.data.classifys,s.proId=t.data.classifys[0].classId}),this.reqProData(this.proId)},mounted:function(){var s=this;this.$nextTick(function(){s.classScroll?setTimeout(function(){s.classScroll.refresh()},800):s.classScroll=new o["a"](s.$refs.classifyTitle,{click:!0}),s.$refs.type[0].classList.add("active")})},methods:{classifyCon:function(s,t){for(var a=0,i=this.$refs.type.length;a<i;a++)this.$refs.type[a].classList.remove("active");this.$refs.type[t].classList.add("active"),this.products=[],this.reqProData(s)},loadTop:function(){this.reqProData(this.proId),this.$refs.loadmore.onTopLoaded()},reqProData:function(s){var t=this;this.$axios.post("/products",{proId:s}).then(function(s){t.products=s.data.products.concat(t.products)})}}},l=c,r=(a("f9ae"),a("2877")),n=Object(r["a"])(l,i,e,!1,null,"f7ecbf44",null);n.options.__file="classify.vue";t["default"]=n.exports},c6bf:function(s,t,a){},f9ae:function(s,t,a){"use strict";var i=a("c6bf"),e=a.n(i);e.a}}]);
//# sourceMappingURL=classify.6c805825.js.map